\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={Model-Averaged-Bootstrap-CI-(hopefully)-Final},
            pdfauthor={Cole},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\providecommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{Model-Averaged-Bootstrap-CI-(hopefully)-Final}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{Cole}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
      \predate{\centering\large\emph}
  \postdate{\par}
    \date{October 1, 2019}


\begin{document}
\maketitle

\section{Step 1: Load Data, Run Full Models \&
Dredge}\label{step-1-load-data-run-full-models-dredge}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(tidyverse)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'tidyverse' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## -- Attaching packages ------------------------------------------------------------------------------- tidyverse 1.2.1 --
\end{verbatim}

\begin{verbatim}
## v ggplot2 3.1.1     v purrr   0.3.2
## v tibble  2.1.3     v dplyr   0.8.1
## v tidyr   0.8.3     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.4.0
\end{verbatim}

\begin{verbatim}
## Warning: package 'ggplot2' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## Warning: package 'tibble' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## Warning: package 'tidyr' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## Warning: package 'readr' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## Warning: package 'purrr' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## Warning: package 'dplyr' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## Warning: package 'stringr' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## Warning: package 'forcats' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## -- Conflicts ---------------------------------------------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(glmmTMB)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in checkMatrixPackageVersion(): Package version inconsistency detected.
## TMB was built with Matrix version 1.2.14
## Current Matrix version is 1.2.17
## Please re-install 'TMB' from source using install.packages('TMB', type = 'source') or ask CRAN for a binary version of 'TMB' matching CRAN's 'Matrix' package
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggeffects)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'ggeffects' was built under R version 3.5.3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(DHARMa)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'DHARMa' was built under R version 3.5.3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(MuMIn)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'MuMIn' was built under R version 3.5.3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(cowplot)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'cowplot' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## 
## ********************************************************
\end{verbatim}

\begin{verbatim}
## Note: As of version 1.0.0, cowplot does not change the
\end{verbatim}

\begin{verbatim}
##   default ggplot2 theme anymore. To recover the previous
\end{verbatim}

\begin{verbatim}
##   behavior, execute:
##   theme_set(theme_cowplot())
\end{verbatim}

\begin{verbatim}
## ********************************************************
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'cowplot'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:ggeffects':
## 
##     get_title
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(AICcmodavg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'AICcmodavg' was built under R version 3.5.3
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'AICcmodavg'
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:MuMIn':
## 
##     AICc, DIC, importance
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(latexpdf)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'latexpdf' was built under R version 3.5.2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mainlice <-}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{"C:/Users/brookson/Salmon_Work/SalmonWork-master/Hakai_lice_data_CB_edits.csv"}\NormalTok{)}

\CommentTok{#make vars into factors}
\NormalTok{mainlice}\OperatorTok{$}\NormalTok{year <-}\StringTok{ }\KeywordTok{as.factor}\NormalTok{(mainlice}\OperatorTok{$}\NormalTok{year);mainlice}\OperatorTok{$}\NormalTok{collection <-}\StringTok{ }\KeywordTok{as.factor}\NormalTok{(mainlice}\OperatorTok{$}\NormalTok{collection)}

\CommentTok{#get the necessary model selection things:}
\NormalTok{lepmod.crossed <-}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                            }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }
                          \DataTypeTok{data =}\NormalTok{ mainlice, }\DataTypeTok{family=}\NormalTok{nbinom2)}
\NormalTok{calmod.crossed <-}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                            }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }
                          \DataTypeTok{data =}\NormalTok{ mainlice, }\DataTypeTok{family=}\NormalTok{nbinom2)}
\NormalTok{lepmod.crossed_dredge =}\StringTok{ }\NormalTok{MuMIn}\OperatorTok{::}\KeywordTok{dredge}\NormalTok{(lepmod.crossed, }\DataTypeTok{subset =}\NormalTok{ (}\StringTok{`}\DataTypeTok{cond(site.region)}\StringTok{`} \OperatorTok{&&}\StringTok{ `}\DataTypeTok{cond(year)}\StringTok{`}\NormalTok{))}
\NormalTok{calmod.crossed_dredge =}\StringTok{ }\NormalTok{MuMIn}\OperatorTok{::}\KeywordTok{dredge}\NormalTok{(calmod.crossed, }\DataTypeTok{subset =}\NormalTok{ (}\StringTok{`}\DataTypeTok{cond(site.region)}\StringTok{`} \OperatorTok{&&}\StringTok{ `}\DataTypeTok{cond(year)}\StringTok{`}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\section{Step 2: Get the Data Into Appropriate Subgroups Based on
Hierarchical
Structure}\label{step-2-get-the-data-into-appropriate-subgroups-based-on-hierarchical-structure}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#so the goal here is to bootstrap the data (parametric) by resampling the hierarchical levels, then }
\CommentTok{#run the model averaging process with the new data and use that to get our model-averaged CI's. Essentially, }
\CommentTok{#we're wrapping our esitmator of mu in a function and bootstrapping it}

\NormalTok{bootlice =}\StringTok{  }\NormalTok{mainlice }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{select}\NormalTok{(all.cal, all.leps, spp, site.region, collection, year, ufn)}

\NormalTok{sock2015D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'SO'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2015'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{sock2015J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'SO'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2015'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{sock2016D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'SO'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2016'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{sock2016J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'SO'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2016'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{sock2017D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'SO'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2017'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{sock2017J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'SO'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2017'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{sock2018D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'SO'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2018'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{sock2018J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'SO'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2018'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}

\NormalTok{chum2015D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'CU'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2015'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{chum2015J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'CU'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2015'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{chum2016D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'CU'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2016'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{chum2016J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'CU'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2016'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{chum2017D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'CU'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2017'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{chum2017J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'CU'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2017'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{chum2018D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'CU'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2018'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{chum2018J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'CU'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2018'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}

\NormalTok{pink2015D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'PI'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2015'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{pink2015J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'PI'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2015'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{pink2016D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'PI'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2016'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{pink2016J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'PI'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2016'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{pink2017D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'PI'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2017'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{pink2017J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'PI'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2017'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\NormalTok{pink2018D <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'PI'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2018'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'D'}\NormalTok{)}
\NormalTok{pink2018J <-}\StringTok{ }\NormalTok{bootlice }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(spp }\OperatorTok{==}\StringTok{ 'PI'} \OperatorTok{&}\StringTok{ }\NormalTok{year }\OperatorTok{==}\StringTok{ '2018'} \OperatorTok{&}\StringTok{ }\NormalTok{site.region }\OperatorTok{==}\StringTok{ 'J'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Step 3: Bootstrap! Resample the Data, Then Run the Models,
Model-Average, and Store the
Result}\label{step-3-bootstrap-resample-the-data-then-run-the-models-model-average-and-store-the-result}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bootintervalcal =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \DecValTok{24}\NormalTok{, }\DataTypeTok{ncol =} \DecValTok{1000}\NormalTok{)}
\NormalTok{bootintervallep =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \DecValTok{24}\NormalTok{, }\DataTypeTok{ncol =} \DecValTok{1000}\NormalTok{)}


\NormalTok{pb =}\StringTok{ }\KeywordTok{txtProgressBar}\NormalTok{(}\DataTypeTok{min =} \DecValTok{0}\NormalTok{, }\DataTypeTok{max =} \DecValTok{1000}\NormalTok{, }\DataTypeTok{initial =} \DecValTok{0}\NormalTok{) }
\NormalTok{start_time <-}\StringTok{ }\KeywordTok{Sys.time}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{(i }\ControlFlowTok{in} \DecValTok{1}\OperatorTok{:}\DecValTok{1000}\NormalTok{) \{}
\NormalTok{  sock2015Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(sock2015D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(sock2015D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(sock2015D }\OperatorTok{%>%}
\StringTok{                      }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                      }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                      }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    sock2015Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  sock2015Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(sock2015J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(sock2015J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(sock2015J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    sock2015Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  sock2016Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(sock2016D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(sock2016D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(sock2016D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    sock2016Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  sock2016Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(sock2016J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(sock2016J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(sock2016J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    sock2016Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  sock2017Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(sock2017D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(sock2017D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(sock2017D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    sock2017Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  sock2017Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(sock2017J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(sock2017J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(sock2017J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    sock2017Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  sock2018Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(sock2018D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(sock2018D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(sock2018D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    sock2018Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  sock2018Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(sock2018J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(sock2018J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(sock2018J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    sock2018Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}  }
  
  \CommentTok{#chum}
  
\NormalTok{  chum2015Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(chum2015D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(chum2015D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(chum2015D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    chum2015Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  chum2015Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(chum2015J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(chum2015J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(chum2015J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    chum2015Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  chum2016Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(chum2016D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(chum2016D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(chum2016D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    chum2016Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  chum2016Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(chum2016J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(chum2016J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(chum2016J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    chum2016Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  chum2017Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(chum2017D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(chum2017D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(chum2017D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    chum2017Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  chum2017Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(chum2017J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(chum2017J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(chum2017J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    chum2017Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  chum2018Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(chum2018D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(chum2018D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(chum2018D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    chum2018Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  chum2018Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(chum2018J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(chum2018J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(chum2018J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    chum2018Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}  }
  
  \CommentTok{#pink}
  
\NormalTok{  pink2015Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(pink2015D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(pink2015D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(pink2015D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    pink2015Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  pink2015Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(pink2015J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(pink2015J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(pink2015J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    pink2015Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  pink2016Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(pink2016D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(pink2016D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(pink2016D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    pink2016Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  pink2016Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(pink2016J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(pink2016J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(pink2016J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    pink2016Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  pink2017Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(pink2017D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(pink2017D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(pink2017D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    pink2017Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  pink2017Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(pink2017J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(pink2017J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(pink2017J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    pink2017Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  pink2018Dboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(pink2018D), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(pink2018D}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(pink2018D }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    pink2018Dboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}}
\NormalTok{  pink2018Jboot =}\StringTok{ }\KeywordTok{matrix}\NormalTok{(}\DataTypeTok{nrow =} \KeywordTok{nrow}\NormalTok{(pink2018J), }\DataTypeTok{ncol =} \DecValTok{7}\NormalTok{)}
\NormalTok{  n =}\StringTok{ }\DecValTok{1}
  \ControlFlowTok{for}\NormalTok{(k }\ControlFlowTok{in} \KeywordTok{unique}\NormalTok{(pink2018J}\OperatorTok{$}\NormalTok{collection)) \{ }\CommentTok{#for each collection}
    \CommentTok{#resample the observations in the collection with replacement for the number of rows in that given collection}
\NormalTok{    res <-}\StringTok{ }\KeywordTok{as.matrix}\NormalTok{(pink2018J }\OperatorTok{%>%}
\StringTok{                       }\KeywordTok{group_by}\NormalTok{(collection) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{filter}\NormalTok{(collection }\OperatorTok{==}\StringTok{ }\NormalTok{k) }\OperatorTok{%>%}\StringTok{ }
\StringTok{                       }\KeywordTok{sample_n}\NormalTok{(., }\KeywordTok{n}\NormalTok{(), }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{))}
\NormalTok{    rows =}\StringTok{ }\KeywordTok{c}\NormalTok{(n}\OperatorTok{:}\NormalTok{(n}\OperatorTok{+}\KeywordTok{nrow}\NormalTok{(res)}\OperatorTok{-}\DecValTok{1}\NormalTok{))}
\NormalTok{    pink2018Jboot[rows,] =}\StringTok{ }\NormalTok{res}
\NormalTok{    n =}\StringTok{ }\NormalTok{n }\OperatorTok{+}\StringTok{ }\KeywordTok{nrow}\NormalTok{(res)}
\NormalTok{  \}  }
  
  \CommentTok{#bind the matrices so we can have our resampled dataframe}
\NormalTok{  bootdata =}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\KeywordTok{rbind}\NormalTok{(sock2015Dboot,sock2015Jboot,sock2016Dboot,sock2016Jboot,sock2017Dboot,sock2017Jboot,sock2018Dboot,sock2018Jboot,}
\NormalTok{                  chum2015Dboot,chum2015Jboot,chum2016Dboot,chum2016Jboot,chum2017Dboot,chum2017Jboot,chum2018Dboot,chum2018Jboot,}
\NormalTok{                  pink2015Dboot,pink2015Jboot,pink2016Dboot,pink2016Jboot,pink2017Dboot,pink2017Jboot,pink2018Dboot,pink2018Jboot)) }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{rename}\NormalTok{(}\DataTypeTok{all.cal =}\NormalTok{ X1, }\DataTypeTok{all.leps =}\NormalTok{ X2, }\DataTypeTok{spp =}\NormalTok{ X3, }\DataTypeTok{site.region =}\NormalTok{ X4, }\DataTypeTok{collection =}\NormalTok{ X5, }\DataTypeTok{year =}\NormalTok{ X6, }\DataTypeTok{ufn =}\NormalTok{ X7)}
\NormalTok{  bootdata}\OperatorTok{$}\NormalTok{all.cal =}\StringTok{ }\KeywordTok{as.integer}\NormalTok{(}\KeywordTok{as.character}\NormalTok{(bootdata}\OperatorTok{$}\NormalTok{all.cal))}
\NormalTok{  bootdata}\OperatorTok{$}\NormalTok{all.leps =}\StringTok{ }\KeywordTok{as.integer}\NormalTok{(}\KeywordTok{as.character}\NormalTok{(bootdata}\OperatorTok{$}\NormalTok{all.leps))}

  \CommentTok{#now run our set of models       }
  \CommentTok{#omited the last two models in each set since their weights were 0. }
\NormalTok{  lep1 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  lep2 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  lep3 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  lep4 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  lep5 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  lep6 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{  }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  lep7 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  lep8 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.leps }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{  }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
  
\NormalTok{  cal1 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{spp }\OperatorTok{+}
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  cal2 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  cal3 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  cal4 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2)}
\NormalTok{  cal5 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  cal6 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{site.region }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{  }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2)}
\NormalTok{  cal7 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }
\NormalTok{  cal8 =}\StringTok{ }\KeywordTok{glmmTMB}\NormalTok{(all.cal }\OperatorTok{~}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{+}\StringTok{ }
\StringTok{                   }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{site.region }\OperatorTok{+}\StringTok{ }\NormalTok{spp }\OperatorTok{*}\StringTok{ }\NormalTok{year }\OperatorTok{+}\StringTok{  }
\StringTok{                   }\NormalTok{(}\DecValTok{1} \OperatorTok{|}\StringTok{ }\NormalTok{collection), }\DataTypeTok{data =}\NormalTok{ bootdata, }\DataTypeTok{family =}\NormalTok{ nbinom2) }

  \CommentTok{#get the predictions of the estiamtes}
\NormalTok{  lep1pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(lep1, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{))}
\NormalTok{  lep2pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(lep2, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  lep3pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(lep3, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  lep4pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(lep4, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  lep5pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(lep5, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  lep6pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(lep6, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  lep7pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(lep7, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  lep8pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(lep8, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
  
\NormalTok{  cal1pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(cal1, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{))}
\NormalTok{  cal2pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(cal2, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  cal3pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(cal3, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  cal4pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(cal4, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  cal5pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(cal5, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  cal6pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(cal6, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  cal7pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(cal7, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }
\NormalTok{  cal8pred <-}\StringTok{ }\KeywordTok{ggpredict}\NormalTok{(cal8, }\DataTypeTok{terms =} \KeywordTok{c}\NormalTok{(}\StringTok{'spp'}\NormalTok{, }\StringTok{'year'}\NormalTok{, }\StringTok{'site.region'}\NormalTok{)) }

\NormalTok{  ###start by getting them all in one dataframe with the weights}
  
  \CommentTok{#pull the predicted values from each one}
\NormalTok{  lepallpred =}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\KeywordTok{cbind}\NormalTok{(lep1pred}\OperatorTok{$}\NormalTok{predicted, lep2pred}\OperatorTok{$}\NormalTok{predicted, lep3pred}\OperatorTok{$}\NormalTok{predicted, lep4pred}\OperatorTok{$}\NormalTok{predicted,}
\NormalTok{                                lep5pred}\OperatorTok{$}\NormalTok{predicted, lep6pred}\OperatorTok{$}\NormalTok{predicted, lep7pred}\OperatorTok{$}\NormalTok{predicted, lep8pred}\OperatorTok{$}\NormalTok{predicted)) }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{rename}\NormalTok{(}\DataTypeTok{lep1 =}\NormalTok{ X1, }\DataTypeTok{lep2 =}\NormalTok{ X2, }\DataTypeTok{lep3 =}\NormalTok{ X3, }\DataTypeTok{lep4 =}\NormalTok{ X4, }\DataTypeTok{lep5 =}\NormalTok{ X5, }\DataTypeTok{lep6 =}\NormalTok{ X6, }\DataTypeTok{lep7 =}\NormalTok{ X7, }\DataTypeTok{lep8 =}\NormalTok{ X8)}
\NormalTok{  calallpred =}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(}\KeywordTok{cbind}\NormalTok{(cal1pred}\OperatorTok{$}\NormalTok{predicted, cal2pred}\OperatorTok{$}\NormalTok{predicted, cal3pred}\OperatorTok{$}\NormalTok{predicted, cal4pred}\OperatorTok{$}\NormalTok{predicted,}
\NormalTok{                                cal5pred}\OperatorTok{$}\NormalTok{predicted, cal6pred}\OperatorTok{$}\NormalTok{predicted, cal7pred}\OperatorTok{$}\NormalTok{predicted, cal8pred}\OperatorTok{$}\NormalTok{predicted)) }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{rename}\NormalTok{(}\DataTypeTok{cal1 =}\NormalTok{ X1, }\DataTypeTok{cal2 =}\NormalTok{ X2, }\DataTypeTok{cal3 =}\NormalTok{ X3, }\DataTypeTok{cal4 =}\NormalTok{ X4, }\DataTypeTok{cal5 =}\NormalTok{ X5, }\DataTypeTok{cal6 =}\NormalTok{ X6, }\DataTypeTok{cal7 =}\NormalTok{ X7, }\DataTypeTok{cal8 =}\NormalTok{ X8)}
  
  \CommentTok{#add the weights from the model selection object}
\NormalTok{  lepallpred =}\StringTok{ }\NormalTok{lepallpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{w1 =} \KeywordTok{rep}\NormalTok{(lepmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{1}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(lepallpred)), }
           \DataTypeTok{w2 =} \KeywordTok{rep}\NormalTok{(lepmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{2}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(lepallpred)),}
           \DataTypeTok{w3 =} \KeywordTok{rep}\NormalTok{(lepmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{3}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(lepallpred)),}
           \DataTypeTok{w4 =} \KeywordTok{rep}\NormalTok{(lepmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{4}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(lepallpred)),}
           \DataTypeTok{w5 =} \KeywordTok{rep}\NormalTok{(lepmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{5}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(lepallpred)),}
           \DataTypeTok{w6 =} \KeywordTok{rep}\NormalTok{(lepmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{6}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(lepallpred)),}
           \DataTypeTok{w7 =} \KeywordTok{rep}\NormalTok{(lepmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{7}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(lepallpred)),}
           \DataTypeTok{w8 =} \KeywordTok{rep}\NormalTok{(lepmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{8}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(lepallpred)))}
  
\NormalTok{  calallpred =}\StringTok{ }\NormalTok{calallpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{w1 =} \KeywordTok{rep}\NormalTok{(calmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{1}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(calallpred)), }
           \DataTypeTok{w2 =} \KeywordTok{rep}\NormalTok{(calmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{2}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(calallpred)),}
           \DataTypeTok{w3 =} \KeywordTok{rep}\NormalTok{(calmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{3}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(calallpred)),}
           \DataTypeTok{w4 =} \KeywordTok{rep}\NormalTok{(calmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{4}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(calallpred)),}
           \DataTypeTok{w5 =} \KeywordTok{rep}\NormalTok{(calmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{5}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(calallpred)),}
           \DataTypeTok{w6 =} \KeywordTok{rep}\NormalTok{(calmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{6}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(calallpred)),}
           \DataTypeTok{w7 =} \KeywordTok{rep}\NormalTok{(calmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{7}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(calallpred)),}
           \DataTypeTok{w8 =} \KeywordTok{rep}\NormalTok{(calmod.crossed_dredge}\OperatorTok{$}\NormalTok{weight[}\DecValTok{8}\NormalTok{], }\KeywordTok{nrow}\NormalTok{(calallpred)))}
  
  \CommentTok{#now make averaged predictions!}
\NormalTok{  lepallpred =}\StringTok{ }\NormalTok{lepallpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{lep1w =}\NormalTok{ lep1}\OperatorTok{*}\NormalTok{w1, }\DataTypeTok{lep2w =}\NormalTok{ lep2}\OperatorTok{*}\NormalTok{w2, }\DataTypeTok{lep3w =}\NormalTok{ lep3}\OperatorTok{*}\NormalTok{w3, }\DataTypeTok{lep4w =}\NormalTok{ lep4}\OperatorTok{*}\NormalTok{w4, }\DataTypeTok{lep5w =}\NormalTok{ lep5}\OperatorTok{*}\NormalTok{w5, }\DataTypeTok{lep6w =}\NormalTok{ lep6}\OperatorTok{*}\NormalTok{w6, }\DataTypeTok{lep7w =}\NormalTok{ lep7}\OperatorTok{*}\NormalTok{w7, }\DataTypeTok{lep8w =}\NormalTok{ lep8}\OperatorTok{*}\NormalTok{w8) }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{avg =}\NormalTok{ lep1w }\OperatorTok{+}\StringTok{ }\NormalTok{lep2w }\OperatorTok{+}\StringTok{ }\NormalTok{lep3w }\OperatorTok{+}\StringTok{ }\NormalTok{lep4w }\OperatorTok{+}\StringTok{ }\NormalTok{lep5w }\OperatorTok{+}\StringTok{ }\NormalTok{lep6w }\OperatorTok{+}\StringTok{ }\NormalTok{lep7w }\OperatorTok{+}\StringTok{ }\NormalTok{lep8w)}
  
\NormalTok{  calallpred =}\StringTok{ }\NormalTok{calallpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{cal1w =}\NormalTok{ cal1}\OperatorTok{*}\NormalTok{w1, }\DataTypeTok{cal2w =}\NormalTok{ cal2}\OperatorTok{*}\NormalTok{w2, }\DataTypeTok{cal3w =}\NormalTok{ cal3}\OperatorTok{*}\NormalTok{w3, }\DataTypeTok{cal4w =}\NormalTok{ cal4}\OperatorTok{*}\NormalTok{w4, }\DataTypeTok{cal5w =}\NormalTok{ cal5}\OperatorTok{*}\NormalTok{w5, }\DataTypeTok{cal6w =}\NormalTok{ cal6}\OperatorTok{*}\NormalTok{w6, }\DataTypeTok{cal7w =}\NormalTok{ cal7}\OperatorTok{*}\NormalTok{w7, }\DataTypeTok{cal8w =}\NormalTok{ cal8}\OperatorTok{*}\NormalTok{w8) }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{avg =}\NormalTok{ cal1w }\OperatorTok{+}\StringTok{ }\NormalTok{cal2w }\OperatorTok{+}\StringTok{ }\NormalTok{cal3w }\OperatorTok{+}\StringTok{ }\NormalTok{cal4w }\OperatorTok{+}\StringTok{ }\NormalTok{cal5w }\OperatorTok{+}\StringTok{ }\NormalTok{cal6w }\OperatorTok{+}\StringTok{ }\NormalTok{cal7w }\OperatorTok{+}\StringTok{ }\NormalTok{cal8w)}
  
  \CommentTok{#keep just the averaged predictions and the relevant grouping info }
\NormalTok{  lepavgpred =}\StringTok{ }\NormalTok{lepallpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{select}\NormalTok{(avg) }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{sal =}\NormalTok{ lep1pred}\OperatorTok{$}\NormalTok{x, }\DataTypeTok{reg =}\NormalTok{ lep1pred}\OperatorTok{$}\NormalTok{facet, }\DataTypeTok{yr =}\NormalTok{ lep1pred}\OperatorTok{$}\NormalTok{group)}
\NormalTok{  lepavgpred}\OperatorTok{$}\NormalTok{sal =}\StringTok{ }\KeywordTok{factor}\NormalTok{(lepavgpred}\OperatorTok{$}\NormalTok{sal, }\DataTypeTok{levels =} \KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{), }\DataTypeTok{labels =} \KeywordTok{c}\NormalTok{(}\StringTok{'CU'}\NormalTok{, }\StringTok{'PI'}\NormalTok{, }\StringTok{'SO'}\NormalTok{))}
  
\NormalTok{  calavgpred =}\StringTok{ }\NormalTok{calallpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{select}\NormalTok{(avg) }\OperatorTok{%>%}\StringTok{ }
\StringTok{    }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{sal =}\NormalTok{ cal1pred}\OperatorTok{$}\NormalTok{x, }\DataTypeTok{reg =}\NormalTok{ cal1pred}\OperatorTok{$}\NormalTok{facet, }\DataTypeTok{yr =}\NormalTok{ cal1pred}\OperatorTok{$}\NormalTok{group)}
\NormalTok{  calavgpred}\OperatorTok{$}\NormalTok{sal =}\StringTok{ }\KeywordTok{factor}\NormalTok{(calavgpred}\OperatorTok{$}\NormalTok{sal, }\DataTypeTok{levels =} \KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{), }\DataTypeTok{labels =} \KeywordTok{c}\NormalTok{(}\StringTok{'CU'}\NormalTok{, }\StringTok{'PI'}\NormalTok{, }\StringTok{'SO'}\NormalTok{))}

\NormalTok{  bootintervalcal[,i] =}\StringTok{ }\NormalTok{calavgpred}\OperatorTok{$}\NormalTok{avg}
\NormalTok{  bootintervallep[,i] =}\StringTok{ }\NormalTok{lepavgpred}\OperatorTok{$}\NormalTok{avg}

  \KeywordTok{setTxtProgressBar}\NormalTok{(pb,i)}
\NormalTok{\}}
\NormalTok{end_time <-}\StringTok{ }\KeywordTok{Sys.time}\NormalTok{()}
\NormalTok{end_time }\OperatorTok{-}\StringTok{ }\NormalTok{start_time}

\NormalTok{boot_int_cal =}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(bootintervalcal)}
\NormalTok{boot_int_lep =}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(bootintervallep)}
\KeywordTok{write_csv}\NormalTok{(boot_int_cal, }\StringTok{'boot_int_cal.csv'}\NormalTok{)}
\KeywordTok{write_csv}\NormalTok{(boot_int_lep, }\StringTok{'boot_int_lep.csv'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Step 4: Pull the Data, Sort Them, and Get the Percentiles of
Interest}\label{step-4-pull-the-data-sort-them-and-get-the-percentiles-of-interest}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#pull the data}
\NormalTok{interval_cal_long =}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{'boot_int_cal_long.csv'}\NormalTok{)}
\NormalTok{interval_lep_long =}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{'boot_int_lep_long.csv'}\NormalTok{)}

\CommentTok{#name the columns, sort them, and transpose them}
\NormalTok{names_lep =}\StringTok{ }\NormalTok{lepavgpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{unite}\NormalTok{(., }\DataTypeTok{col =} \StringTok{'names'}\NormalTok{, sal}\OperatorTok{:}\NormalTok{yr, }\DataTypeTok{sep =} \StringTok{'_'}\NormalTok{)}
\NormalTok{names_cal =}\StringTok{ }\NormalTok{calavgpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{unite}\NormalTok{(., }\DataTypeTok{col =} \StringTok{'names'}\NormalTok{, sal}\OperatorTok{:}\NormalTok{yr, }\DataTypeTok{sep =} \StringTok{'_'}\NormalTok{)}

\NormalTok{names_lep =}\StringTok{ }\KeywordTok{as.vector}\NormalTok{(names_lep}\OperatorTok{$}\NormalTok{names)}
\NormalTok{names_cal =}\StringTok{ }\KeywordTok{as.vector}\NormalTok{(names_cal}\OperatorTok{$}\NormalTok{names)}

\KeywordTok{colnames}\NormalTok{(interval_cal_long) =}\StringTok{ }\NormalTok{names_cal}
\KeywordTok{colnames}\NormalTok{(interval_lep_long) =}\StringTok{ }\NormalTok{names_lep}

\NormalTok{interval_cal_long_sorted <-}\StringTok{ }\KeywordTok{apply}\NormalTok{(interval_cal_long,}\DecValTok{2}\NormalTok{,sort,}\DataTypeTok{decreasing=}\NormalTok{F)}
\NormalTok{interval_lep_long_sorted <-}\StringTok{ }\KeywordTok{apply}\NormalTok{(interval_lep_long,}\DecValTok{2}\NormalTok{,sort,}\DataTypeTok{decreasing=}\NormalTok{F)}

\NormalTok{upci_cal =}\StringTok{ }\NormalTok{interval_cal_long_sorted[}\DecValTok{995}\NormalTok{, ]}
\NormalTok{loci_cal =}\StringTok{ }\NormalTok{interval_cal_long_sorted[}\DecValTok{5}\NormalTok{, ]}
\NormalTok{upci_lep =}\StringTok{ }\NormalTok{interval_lep_long_sorted[}\DecValTok{995}\NormalTok{, ]}
\NormalTok{loci_lep =}\StringTok{ }\NormalTok{interval_lep_long_sorted[}\DecValTok{5}\NormalTok{, ]}

\CommentTok{#put the up and lo CI's into the df's }
\NormalTok{calavgpred}\OperatorTok{$}\NormalTok{conf.high =}\StringTok{ }\NormalTok{upci_cal}
\NormalTok{calavgpred}\OperatorTok{$}\NormalTok{conf.low =}\StringTok{ }\NormalTok{loci_cal}
\NormalTok{lepavgpred}\OperatorTok{$}\NormalTok{conf.high =}\StringTok{ }\NormalTok{upci_lep}
\NormalTok{lepavgpred}\OperatorTok{$}\NormalTok{conf.low =}\StringTok{ }\NormalTok{loci_lep}
\end{Highlighting}
\end{Shaded}

\section{Step 5: Effects Plots}\label{step-5-effects-plots}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lepavgpred =}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{'lep_plotting.csv'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Parsed with column specification:
## cols(
##   `avg sal reg yr conf.high conf.low` = col_character()
## )
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{calavgpred =}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{'cal_plotting.csv'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Parsed with column specification:
## cols(
##   `avg sal reg yr conf.low conf.high` = col_character()
## )
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{names}\NormalTok{(calavgpred)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "avg sal reg yr conf.low conf.high"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lepavgpred =}\StringTok{ }\KeywordTok{separate}\NormalTok{(lepavgpred, }\StringTok{"avg sal reg yr conf.high conf.low"}\NormalTok{, }\KeywordTok{c}\NormalTok{(}\StringTok{'avg'}\NormalTok{, }\StringTok{'sal'}\NormalTok{, }\StringTok{'reg'}\NormalTok{, }\StringTok{'yr'}\NormalTok{, }\StringTok{'conf.low'}\NormalTok{, }\StringTok{'conf.high'}\NormalTok{), }\DataTypeTok{sep =} \StringTok{' '}\NormalTok{)}
\NormalTok{calavgpred =}\StringTok{ }\KeywordTok{separate}\NormalTok{(calavgpred, }\StringTok{"avg sal reg yr conf.low conf.high"}\NormalTok{, }\KeywordTok{c}\NormalTok{(}\StringTok{'avg'}\NormalTok{, }\StringTok{'sal'}\NormalTok{, }\StringTok{'reg'}\NormalTok{, }\StringTok{'yr'}\NormalTok{, }\StringTok{'conf.low'}\NormalTok{, }\StringTok{'conf.high'}\NormalTok{), }\DataTypeTok{sep =} \StringTok{' '}\NormalTok{)}
\CommentTok{#Make the plots}
\NormalTok{fte_theme1 <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{()\{}
\NormalTok{  color.background =}\StringTok{ 'white'}
\NormalTok{  color.grid.major =}\StringTok{ 'black'}
\NormalTok{  color.axis.text =}\StringTok{ 'black'}
\NormalTok{  color.axis.title =}\StringTok{ 'black'}
\NormalTok{  color.title =}\StringTok{ 'black'}
  \KeywordTok{theme_bw}\NormalTok{(}\DataTypeTok{base_size =} \DecValTok{9}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{panel.background =} \KeywordTok{element_rect}\NormalTok{(}\DataTypeTok{fill=}\NormalTok{color.background,}\DataTypeTok{color =}\NormalTok{ color.background)) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{plot.background =} \KeywordTok{element_rect}\NormalTok{(}\DataTypeTok{fill =}\NormalTok{ color.background, }\DataTypeTok{color =}\NormalTok{ color.background)) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{panel.border =} \KeywordTok{element_blank}\NormalTok{()) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{panel.grid.major =} \KeywordTok{element_blank}\NormalTok{()) }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{panel.grid.minor =} \KeywordTok{element_blank}\NormalTok{()) }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.ticks =} \KeywordTok{element_blank}\NormalTok{()) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{plot.title =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{color =}\NormalTok{ color.title, }\DataTypeTok{size =} \DecValTok{15}\NormalTok{, }\DataTypeTok{vjust =} \FloatTok{1.25}\NormalTok{)) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{12}\NormalTok{, }\DataTypeTok{color =}\NormalTok{ color.axis.text)) }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.text.y =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{12}\NormalTok{, }\DataTypeTok{color =}\NormalTok{ color.axis.text)) }\OperatorTok{+}\StringTok{ }
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.title.x =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{14}\NormalTok{, }\DataTypeTok{color =}\NormalTok{ color.axis.title, }\DataTypeTok{vjust =} \DecValTok{0}\NormalTok{)) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.title.y =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{14}\NormalTok{, }\DataTypeTok{color =}\NormalTok{ color.axis.title, }\DataTypeTok{vjust =} \FloatTok{1.25}\NormalTok{)) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{plot.title =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{hjust =} \FloatTok{0.5}\NormalTok{)) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{axis.line.x =} \KeywordTok{element_line}\NormalTok{(}\DataTypeTok{color=}\StringTok{"black"}\NormalTok{, }\DataTypeTok{size =} \FloatTok{0.15}\NormalTok{),}
          \DataTypeTok{axis.line.y =} \KeywordTok{element_line}\NormalTok{(}\DataTypeTok{color=}\StringTok{"black"}\NormalTok{, }\DataTypeTok{size =} \FloatTok{0.15}\NormalTok{)) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{strip.background =} \KeywordTok{element_blank}\NormalTok{(),}
          \DataTypeTok{strip.placement =} \StringTok{'outside'}\NormalTok{,}
          \DataTypeTok{strip.text =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{12}\NormalTok{))}\OperatorTok{+}
\StringTok{    }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{legend.position =} \KeywordTok{c}\NormalTok{(}\FloatTok{0.8}\NormalTok{,}\FloatTok{0.82}\NormalTok{),}
          \DataTypeTok{legend.text =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{12}\NormalTok{),}
          \DataTypeTok{legend.title =} \KeywordTok{element_text}\NormalTok{(}\DataTypeTok{size =} \DecValTok{12}\NormalTok{))}
\NormalTok{\} }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{leg_title <-}\StringTok{ 'Salmon Species'}
\NormalTok{lepsmodplot_avg <-}\StringTok{ }\NormalTok{lepavgpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{group_by}\NormalTok{(., yr,sal,reg) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =}\NormalTok{ sal, }\DataTypeTok{y =}\NormalTok{ avg, }\DataTypeTok{colour =}\NormalTok{ sal, }\DataTypeTok{shape =}\NormalTok{ reg)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{scale_shape_manual}\NormalTok{(}\DataTypeTok{values =} \KeywordTok{c}\NormalTok{(}\DecValTok{15}\NormalTok{,}\DecValTok{17}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_errorbar}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin=}\NormalTok{conf.low, }\DataTypeTok{ymax =}\NormalTok{ conf.high,}\DataTypeTok{width =} \DecValTok{0}\NormalTok{), }
                \DataTypeTok{position =} \KeywordTok{position_dodge}\NormalTok{(}\DataTypeTok{width =} \FloatTok{0.8}\NormalTok{),}\DataTypeTok{colour =} \StringTok{'Black'}\NormalTok{)}\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\DataTypeTok{size =} \DecValTok{4}\NormalTok{,}\DataTypeTok{position =} \KeywordTok{position_dodge}\NormalTok{(}\DataTypeTok{width =} \FloatTok{0.8}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{facet_wrap}\NormalTok{(}\OperatorTok{~}\NormalTok{yr,}\DataTypeTok{nrow=}\DecValTok{1}\NormalTok{,}\DataTypeTok{strip.position =} \StringTok{"bottom"}\NormalTok{)}\OperatorTok{+}
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{strip.background =} \KeywordTok{element_blank}\NormalTok{(), }\DataTypeTok{strip.placement =} \StringTok{"outside"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{scale_color_manual}\NormalTok{(leg_title,}\DataTypeTok{values=}\KeywordTok{c}\NormalTok{(}\StringTok{'seagreen2'}\NormalTok{, }\StringTok{'hotpink1'}\NormalTok{, }\StringTok{'steelblue2'}\NormalTok{))}\OperatorTok{+}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title =} \StringTok{"L. salmonis Effects Plot"}\NormalTok{, }\DataTypeTok{x =} \StringTok{'Salmon Species/Year'}\NormalTok{, }
       \DataTypeTok{y =} \StringTok{'Average Number of Motile Lice Per Fish'}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{guides}\NormalTok{(}\DataTypeTok{shape =} \KeywordTok{guide_legend}\NormalTok{(}\DataTypeTok{title =} \StringTok{'Region'}\NormalTok{, }\DataTypeTok{override.aes =} \KeywordTok{list}\NormalTok{(}\DataTypeTok{shape =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{)), }\DataTypeTok{type =} \StringTok{'b'}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{fte_theme1}\NormalTok{()}
\NormalTok{lepsmodplot_avg}
\end{Highlighting}
\end{Shaded}

\includegraphics{Model-Averaged-Bootstrap-CIs-Summary_files/figure-latex/unnamed-chunk-7-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{calmodplot_avg <-}\StringTok{ }\NormalTok{calavgpred }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{group_by}\NormalTok{(., yr,sal,reg) }\OperatorTok{%>%}\StringTok{ }
\StringTok{  }\KeywordTok{ggplot}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =}\NormalTok{ sal, }\DataTypeTok{y =}\NormalTok{ avg, }\DataTypeTok{colour =}\NormalTok{ sal, }\DataTypeTok{shape =}\NormalTok{ reg)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{scale_shape_manual}\NormalTok{(}\DataTypeTok{values =} \KeywordTok{c}\NormalTok{(}\DecValTok{15}\NormalTok{,}\DecValTok{17}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_errorbar}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin=}\NormalTok{conf.low, }\DataTypeTok{ymax =}\NormalTok{ conf.high,}\DataTypeTok{width =} \DecValTok{0}\NormalTok{), }\DataTypeTok{position =} \KeywordTok{position_dodge}\NormalTok{(}\DataTypeTok{width =} \FloatTok{0.8}\NormalTok{),}\DataTypeTok{colour =} \StringTok{'Black'}\NormalTok{)}\OperatorTok{+}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\DataTypeTok{size =} \DecValTok{4}\NormalTok{,}\DataTypeTok{position =} \KeywordTok{position_dodge}\NormalTok{(}\DataTypeTok{width =} \FloatTok{0.8}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{facet_wrap}\NormalTok{(}\OperatorTok{~}\NormalTok{yr,}\DataTypeTok{nrow=}\DecValTok{1}\NormalTok{,}\DataTypeTok{strip.position =} \StringTok{"bottom"}\NormalTok{)}\OperatorTok{+}
\StringTok{  }\KeywordTok{theme}\NormalTok{(}\DataTypeTok{strip.background =} \KeywordTok{element_blank}\NormalTok{(), }\DataTypeTok{strip.placement =} \StringTok{"outside"}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{  }\KeywordTok{scale_color_manual}\NormalTok{(leg_title,}\DataTypeTok{values=}\KeywordTok{c}\NormalTok{(}\StringTok{'seagreen2'}\NormalTok{, }\StringTok{'hotpink1'}\NormalTok{, }\StringTok{'steelblue2'}\NormalTok{))}\OperatorTok{+}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title =} \StringTok{"C. clemensi Effects Plot"}\NormalTok{, }\DataTypeTok{x =} \StringTok{'Salmon Species/Year'}\NormalTok{, }\DataTypeTok{y =} \StringTok{'Average Number of Motile Lice Per Fish'}\NormalTok{) }\OperatorTok{+}
\StringTok{  }\KeywordTok{guides}\NormalTok{(}\DataTypeTok{shape =} \KeywordTok{guide_legend}\NormalTok{(}\DataTypeTok{title =} \StringTok{'Region'}\NormalTok{, }\DataTypeTok{override.aes =} \KeywordTok{list}\NormalTok{(}\DataTypeTok{shape =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{)), }\DataTypeTok{type =} \StringTok{'b'}\NormalTok{)) }\OperatorTok{+}
\StringTok{  }\KeywordTok{fte_theme1}\NormalTok{()}
\NormalTok{calmodplot_avg}
\end{Highlighting}
\end{Shaded}

\includegraphics{Model-Averaged-Bootstrap-CIs-Summary_files/figure-latex/unnamed-chunk-8-1.pdf}


\end{document}
